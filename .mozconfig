ac_add_options --target=i386-apple-darwin10
HOST_CC=clang
HOST_CXX=clang++
TARGET_CPU=i386
# It's not strictly necessary to specify -arch during native builds, but it
# makes the merged about:buildconfig easier to follow, and it reduces
# conditionalized differences between builds.
CC="clang -arch $TARGET_CPU"
CXX="clang++ -arch $TARGET_CPU"

# These must be set for cross builds, and don't hurt straight builds.
RANLIB="${TOOLCHAIN_PREFIX}ranlib"
AR="${TOOLCHAIN_PREFIX}ar"
AS=$CC
LD=ld
STRIP="${TOOLCHAIN_PREFIX}strip"
OTOOL="${TOOLCHAIN_PREFIX}otool"
export CC CXX HOST_CC HOST_CXX RANLIB AR AS LD STRIP OTOOL

CROSS_COMPILE=1
ac_add_options --enable-macos-target=10.7
ac_add_options --with-macos-sdk=/Applications/Xcode7.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.11.sdk
ac_add_options --disable-tests
ac_add_options --enable-optimize
ac_add_options --disable-debug
ac_add_options --disable-crashreporter

export MOZ_TELEMETRY_REPORTING=0
export MOZ_ADDON_SIGNING=0
export MOZ_REQUIRE_SIGNING=0
